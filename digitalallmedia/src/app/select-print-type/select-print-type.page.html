<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-button fill="clear" routerLink="/select-print">
        <ion-icon name="arrow-back-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-title class="ion-text-center step-title">
      <span class="step-number">Step 2:</span> Select Print Type
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="pagina ion-padding">
  <div class="conteudo">
    <!-- Print options per photo -->
    <div class="section" *ngFor="let photo of selectedFotos; let i = index">
      <div class="media-title">
        <img [src]="photo" class="preview-thumb" />
        <span>Choose print types for photo {{ i + 1 }}</span>
      </div>
      <ion-list>
        <ion-item *ngFor="let option of printOptionsPhotos">
          <ion-checkbox
            slot="start"
            [checked]="selectedPhotoOptions[i]?.includes(option.label)"
            (ionChange)="togglePhotoOption(i, option.label, $event.detail.checked)">
          </ion-checkbox>
          <ion-label>
            {{ option.label }}
            <span class="price">€{{ option.price.toFixed(2) }}</span>
          </ion-label>
        </ion-item>
      </ion-list>
    </div>

    <!-- Print options per album -->
    <div class="section" *ngFor="let album of selectedAlbuns; let j = index">
      <div class="media-title">
        <img [src]="album.cover" class="preview-thumb" />
        <span>Choose print types for album: {{ album.name }}</span>
      </div>
      <ion-list>
        <ion-item *ngFor="let option of printOptionsAlbums">
          <ion-checkbox
            slot="start"
            [checked]="selectedAlbumOptions[j]?.includes(option.label)"
            (ionChange)="toggleAlbumOption(j, option.label, $event.detail.checked)">
          </ion-checkbox>
          <ion-label>
            {{ option.label }}
            <span class="price">€{{ option.price.toFixed(2) }}</span>
          </ion-label>
        </ion-item>
      </ion-list>
    </div>
  </div>

  <ion-button expand="block" class="add-button" (click)="continuar()" [disabled]="!isFormValid()">
    <ion-icon name="checkmark-circle" slot="start"></ion-icon>
    Continue
  </ion-button>
</ion-content>
