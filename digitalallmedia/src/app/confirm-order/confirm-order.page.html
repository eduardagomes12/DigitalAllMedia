<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-button fill="clear" routerLink="/profile" class="avatar-button">
        <ion-avatar class="avatar-container">
          <img src="assets/images/icon_profile.png" />
          <span class="online-indicator"></span>
        </ion-avatar>
      </ion-button>
    </ion-buttons>

    <ion-title class="ion-text-center">Digital ALL Media</ion-title>

    <ion-buttons slot="end">
      <ion-button>
        <ion-icon name="settings-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content class="pagina ion-padding">
  <div class="conteudo">
    <div class="top-bar">
      <h1 class="page-title">Create Order</h1>
      <ion-button fill="outline" size="small" class="cancel-button" routerLink="/tabs">
        CANCEL
      </ion-button>
    </div>

    <div class="stepper">
      <div class="line"></div>

      <!-- STEP 1 -->
      <div class="step active">
        <div class="dot"></div>
        <div class="text">
          <div class="title">
            1. Add File
            <ion-button fill="clear" size="small" class="edit-btn" routerLink="/adicionar-arquivo">
              EDIT
            </ion-button>
          </div>
          <div class="selected-items">
            <img *ngFor="let foto of selectedFotos" [src]="foto" class="thumb" />
            <ion-chip *ngFor="let album of selectedAlbuns">{{ album.name }}</ion-chip>
          </div>
        </div>
      </div>

      <!-- STEP 2 -->
      <div class="step active">
        <div class="dot"></div>
        <div class="text">
          <div class="title">
            2. Print Type
            <ion-button fill="clear" size="small" class="edit-btn" routerLink="/select-print-type">
              EDIT
            </ion-button>
          </div>

          <!-- Summary -->
          <div class="summary-section" *ngFor="let item of items; let i = index">
            <div class="summary-item">
              <img [src]="item.cover" class="thumb" />
              <div class="info">
                <div class="type">{{ item.type }}</div>
                <div class="quantity-control">
                  <ion-button fill="clear" (click)="decrement(i)">-</ion-button>
                  {{ item.qty }}
                  <ion-button fill="clear" (click)="increment(i)">+</ion-button>
                </div>
              </div>
              <ion-button fill="clear" color="danger" (click)="removeItem(i)">
                <ion-icon slot="icon-only" name="trash-outline"></ion-icon>
              </ion-button>
            </div>
          </div>
        </div>
      </div>

      <!-- STEP 3 -->
      <div class="step active">
        <div class="dot"></div>
        <div class="text">
          <div class="title">
            3. Delivery Details
            <ion-button fill="clear" size="small" class="edit-btn" routerLink="/detalhes">
              EDIT
            </ion-button>
          </div>
          <div class="subtitle">
            {{ deliveryInfo.nome }}<br />
            {{ deliveryInfo.morada }}, {{ deliveryInfo.codigoPostal }} {{ deliveryInfo.cidade }}<br />
            {{ deliveryInfo.contacto }} / {{ deliveryInfo.email }}<br />
            {{ deliveryInfo.metodo === 'home' ? 'Home Delivery' : 'Pickup at Store' }} - {{ deliveryInfo.data }}<br />
            {{ deliveryInfo.infoAdicional }}
          </div>
        </div>
      </div>

      <!-- STEP 4 -->
      <div class="step active">
        <div class="dot"></div>
        <div class="text">
          <div class="title">4. Confirm Order</div>
          <div class="subtitle">e.g. Summary & Payment Method</div>
        </div>
      </div>
    </div>
  </div>

  <!-- Continue Button -->
  <ion-button expand="block" class="add-button" (click)="confirmar()">
    <ion-icon name="checkmark-circle" slot="start"></ion-icon>
    Finalize Order
  </ion-button>
</ion-content>
